%æ­¤æ–‡ä»¶ä¸ºå…¨å±€è®¾ç½®
\ProvidesClass{thesis-guet}

\LoadClass[12pt,a4paper, openany, twoside]{book} % openright,openany
\RequirePackage{ifxetex} %éœ€è¦ifxetexï¼Œåœ¨LaTeXç±»å’ŒåŒ…æ–‡ä»¶ä¸­ä½¿ç”¨å¦ä¸€ä¸ªåŒ…æ–‡ä»¶ï¼šifxetex
\RequireXeTeX %éœ€è¦ä½¿ç”¨XeLatexç¼–è¯‘texæ–‡ä»¶ï¼Œä¸ç„¶ä¼šæŠ¥é”™ã€‚
\RequirePackage[usenames,dvipsnames,svgnames,table]{xcolor}
\RequirePackage{graphicx} % å›¾ç‰‡
\RequirePackage[font={onehalfspacing, small}, labelsep=space, skip=6pt, figurewithin=none, tablewithin=none]{caption} % figurewithin=none, tablewithin=none å°†book ç±»ä¸­å‘figure of list æ·»åŠ  10pté—´è·çš„å‘½ä»¤å–æ¶ˆï¼Œä½†ä¹Ÿä¼šä½¿å¾—å›¾è¡¨ç« ä¸ç« ä¹‹é—´è¿ç»­ç¼–å·ï¼Œå› æ­¤éœ€è¦è®¾ç½®å¯¹åº”è®¡æ•°å™¨æ¯ç« é‡ç½®
\RequirePackage{array}
\RequirePackage{booktabs}
\RequirePackage[absolute,overlay]{textpos} % è®¾ç½®å¯†çº§ç”¨çš„æ–‡æœ¬æ¡†ï¼Œoverlayç»å¯¹åæ ‡ã€‚å¯ä»¥éšæ„æ§åˆ¶æ–‡æœ¬æ¡†ä½ç½®
\RequirePackage{setspace}
\RequirePackage{multirow}
\RequirePackage[tbtags]{amsmath}
\RequirePackage{amssymb}
\RequirePackage{amsthm}
\RequirePackage{lmodern}
\RequirePackage[nopostdot]{glossaries} %ä¸æ˜¾ç¤ºdescriptionåçš„è‹±æ–‡æ ‡ç‚¹ç¬¦å·
\RequirePackage{mathspec}
\RequirePackage{xeCJK} % å¯¹å…¨å±€å­—ä½“è¿›è¡Œè®¾ç½®
\RequirePackage{datetime}
\RequirePackage{ifplatform}
% ===============ç¬¦å·è¯´æ˜ç›¸å…³å®===============
\RequirePackage{framed} % Framing content
\RequirePackage{multicol} % Multiple columns environment
\RequirePackage[]{nomencl} % Nomenclature package %noprefix % ç¬¦å·è¯´æ˜çš„å®åŒ…
% ===============ä¸æ¸…æ¥š===============
\RequirePackage{zhnumber} % å¤§å†™ä¸­æ–‡æ•°å­—
\RequirePackage{pifont}
\RequirePackage[hyphens]{xurl}
\RequirePackage[unicode,pdfencoding=auto,bookmarks=true,hyperfootnotes=false,bookmarksnumbered=true,bookmarksdepth=4]{hyperref} % ä¹¦ç­¾è®¾ç½®å®åŒ… citecoloré“¾æ¥é¢œè‰²è®¾ç½®% linkcolorå¼•ç”¨é¢œè‰²è®¾ç½® urlcolorç½‘å€é¢œè‰² unicode,pdfencoding=auto ç”¨æ¥è§£å†³PDFè­¦å‘Š
\hypersetup{colorlinks=true,citecolor=black, linkcolor=black, urlcolor=black}
\RequirePackage{indentfirst}
\RequirePackage{float}
\RequirePackage{fancyvrb}
\RequirePackage{fancyhdr} % é¡µçœ‰è®¾ç½®å®åŒ…
\RequirePackage{titlesec}
\RequirePackage{appendix}
\RequirePackage[numbers,sort&compress,super,square]{natbib} % å‚è€ƒæ–‡çŒ®å¼•ç”¨æ ¼å¼è®¾ç½®å®åŒ…
\RequirePackage[normalem]{ulem}
\RequirePackage{enumitem} % åˆ—è¡¨ç¯å¢ƒå®åŒ…
\RequirePackage[algochapter, boxruled, linesnumbered]{algorithm2e}
\RequirePackage{etoolbox}
\RequirePackage{newfloat}
\RequirePackage[resetlabels]{multibib}
\RequirePackage[nottoc]{tocbibind}
\RequirePackage{ifoddpage} % åˆ¤æ–­æ˜¯å¦ä¸ºå¥‡æ•°
\RequirePackage{pdfpages}
\RequirePackage[titles]{tocloft} % ç›®å½•è®¾ç½®å®åŒ…
\RequirePackage[labelformat=simple]{subcaption}
\RequirePackage{geometry} % é¡µé¢å¸ƒå±€å®
\RequirePackage{ifthen}
\RequirePackage[capitalize]{cleveref} % è¦åœ¨ hyperrefåå¼•ç”¨ noabbrev å¼•ç”¨å‰ç¼€ä¸ºç¼©å†™
% bindingoffsetä¸ºå†…è¾¹è·åŠ é•¿2.5cm
\RequirePackage{lastpage} % ç»Ÿè®¡æ€»é¡µæ•°å®
\geometry{a4paper,inner=2.5cm, outer=2.5cm, top=3cm, bottom=2cm,bindingoffset=0cm} 


% ===============å®šä¹‰æ‰“å°ç‰ˆè¿˜æ˜¯ç”µå­ç‰ˆ===============
\newif\ifOptionPrintVersion 
\OptionPrintVersiontrue
\DeclareOption{eversion}{\OptionPrintVersiontrue}%trueä¸ºç”µå­ç‰ˆï¼Œfalseä¸ºæ‰“å°ç‰ˆã€‚
\DeclareOption{pversion}{\OptionPrintVersionfalse}

% ===============è®¾ç½®å°é¢æ—¶é—´æ ¼å¼===============
\renewcommand{\today}{\number\year å¹´ \number\month æœˆ \number\day æ—¥}

% ================é¡µè¾¹è·è®¾ç½®===============
\ifOptionPrintVersion
  {}
\else
  {\geometry{inner=2cm, outer=2cm,bindingoffset=0.5cm}}
\fi

% ===============å®šä¹‰ç©ºç™½é¡µå‘½ä»¤=============== 
\newcommand\blankpage{% å®šä¹‰æ·»åŠ ç©ºç™½é¡µ
\newpage
\thispagestyle{empty}%æ²¡æœ‰é¡µçœ‰é¡µè„šï¼Œç©ºç™½é¡µ
\null
% \addtocounter{page}{-1} %\addtocounter{è®¡æ•°å™¨}{æ•°å€¼}å°†æ•°å€¼ä¸è¯¥è®¡æ•°å™¨åŸæœ‰å€¼ç›¸åŠ ï¼Œæ•°å€¼å¯ä»¥æ˜¯æ­£æ•´æ•°ï¼Œä¹Ÿå¯ä»¥æ˜¯è´Ÿæ•´æ•°ã€‚
\newpage
}

% ===============å®šä¹‰å¸¦é¡µçœ‰é¡µè„šç©ºç™½é¡µå‘½ä»¤=============== 
\newcommand\blankpage@number{\newpage\null\newpage}




% ++++++++++++++++++++++++++++++++++++++++++++++++++ å°é¢è®¾ç½®ç›¸å…³ ++++++++++++++++++++++++++++++++++++++++++++++++++


% ===============å°é¢ä¿¡æ¯å˜é‡å®šä¹‰===============
\newcommand{\zh@thetitle}{\quad} % æ ‡é¢˜
\newcommand{\en@thetitle}{\quad} % è‹±æ–‡æ ‡é¢˜
\newcommand{\theauthor}{\quad} % ä½œè€…
\newcommand{\thedate}{\quad} % æ—¥æœŸ
\newcommand{\theschool}{\quad} % å­¦é™¢
\newcommand{\themajor}{\quad} % ä¸“ä¸š
%æœ¬ç§‘
\newcommand{\theadvisor}{\quad} % å¯¼å¸ˆå§“å
\newcommand{\theprotitle}{\quad} % å¯¼å¸ˆèŒç§°
\newcommand{\thesecrets}{\quad} % å¯†çº§
\newcommand{\thestudentnumber}{\quad} % å­¦å·
\newcommand{\thedegreecategories}{\quad}
\newcommand{\thedatereply}{\quad}

% ===============å°é¢ä¿¡æ¯è·å–===============
\renewcommand{\title}[2]{
  \renewcommand{\zh@thetitle}{#1}
  \renewcommand{\en@thetitle}{#2}
}

\newcommand{\secrets}[1]{\renewcommand{\thesecrets}{#1}}
\renewcommand{\author}[1]{\renewcommand{\theauthor}{#1}}
\renewcommand{\date}[1]{\renewcommand{\thedate}{#1}}
\newcommand{\major}[1]{\renewcommand{\themajor}{#1}}
\newcommand{\school}[1]{\renewcommand{\theschool}{#1}}
\newcommand{\advisor}[1]{\renewcommand{\theadvisor}{#1}} % å¯¼å¸ˆå§“å
\newcommand{\protitle}[1]{\renewcommand{\theprotitle}{#1}} % å¯¼å¸ˆèŒç§°
\newcommand{\studentnumber}[1]{\renewcommand{\thestudentnumber}{#1}}
\newcommand{\degreecategories}[1]{\renewcommand{\thedegreecategories}{#1}}
\newcommand{\datereply}[1]{\renewcommand{\thedatereply}{#1}}


\newcommand{\thedateoral}{}
\newcommand{\thedatesubmit}{}
\newcommand{\thedateconfer}{å¹´\quad æœˆ}

\newcommand{\setdate}[2][]{ 
\ifthenelse{\equal{#1}{oral}}{\renewcommand{\thedateoral}{#2}}{}
\ifthenelse{\equal{#1}{submit}}{\renewcommand{\thedatesubmit}{#2}}{}
\ifthenelse{\equal{#1}{confer}}{\renewcommand{\thedateconfer}{#2}}{}
}


% ====================æœ¬ç¡•åšé€‰é¡¹å£°æ˜====================
%\DeclareOption{é€‰é¡¹}{ä»£ç }å…¶ä¸­çš„é€‰é¡¹å°±æ˜¯é€‰é¡¹çš„åç§°ï¼Œè€Œä»£ç å°±æ˜¯é€‰é¡¹è¦æ‰§è¡Œçš„æŒ‡ä»¤é›†ã€‚
\DeclareOption{bachelor}{
  \def\degreename{æœ¬ç§‘}
  \def\booktitle{æœ¬ç§‘æ¯•ä¸šè®¾è®¡ï¼ˆè®ºæ–‡ï¼‰}
  \def\displayheader{æ¡‚æ—ç”µå­ç§‘æŠ€å¤§å­¦æœ¬ç§‘ç”Ÿå­¦ä½è®ºæ–‡}
}
\DeclareOption{master}{
  \def\degreename{ç¡•å£«}
  \def\booktitle{ç¡•\enspace å£«\enspace å­¦\enspace ä½\enspace è®º\enspace æ–‡}
  \def\displayheader{æ¡‚æ—ç”µå­ç§‘æŠ€å¤§å­¦ç¡•å£«å­¦ä½è®ºæ–‡}
}
\DeclareOption{promaster}{
  \def\degreename{ä¸“ä¸šç¡•å£«}
  \def\booktitle{ç¡•\enspace å£«\enspace å­¦\enspace ä½\enspace è®º\enspace æ–‡}
  \def\displayheader{æ¡‚æ—ç”µå­ç§‘æŠ€å¤§å­¦ç¡•å£«å­¦ä½è®ºæ–‡}
}
\DeclareOption{doctor}{
  \def\degreename{åšå£«}
  \def\booktitle{åš\enspace å£«\enspace å­¦\enspace ä½\enspace è®º\enspace æ–‡}
  \def\displayheader{æ¡‚æ—ç”µå­ç§‘æŠ€å¤§å­¦åšå£«å­¦ä½è®ºæ–‡}
}
\DeclareOption{engdoctor}{
  \def\degreename{å·¥ç¨‹åšå£«}
  \def\booktitle{åš\enspace å£«\enspace å­¦\enspace ä½\enspace è®º\enspace æ–‡}
  \def\displayheader{æ¡‚æ—ç”µå­ç§‘æŠ€å¤§å­¦åšå£«å­¦ä½è®ºæ–‡}
}
\ExecuteOptions{master} % é»˜è®¤å€¼ä¸ºç¡•å£«
\ProcessOptions\relax





% ===============å°é¢åˆ¶ä½œ===============
% æ–°å®šä¹‰åˆ¤æ–­å˜é‡ï¼Œå¦‚æœå­¦ä½åæ˜¯ä¸“ä¸šç¡•å£«åˆ™æ‰§è¡Œ#1å‘½ä»¤ï¼Œå¦æ‰§è¡Œ#2å‘½ä»¤
\newcommand{\ifpromaster}[2]{ \ifthenelse{\equal{\degreename}{ä¸“ä¸šç¡•å£«}}{#1}{#2}}
% æ–°å®šä¹‰åˆ¤æ–­å˜é‡ï¼Œå¦‚æœå­¦ä½åæ˜¯æœ¬ç§‘åˆ™æ‰§è¡Œ#1å‘½ä»¤ï¼Œå¦æ‰§è¡Œ#2å‘½ä»¤
\newcommand{\ifbachelor}[2]{ \ifthenelse{\equal{\degreename}{æœ¬ç§‘}}{#1}{#2}}

\newcommand{\makecover}{
  \thispagestyle{empty} %æ²¡æœ‰é¡µçœ‰é¡µè„šï¼Œç©ºç™½é¡µ
  \setlength{\extrarowheight}{9pt}
  \pdfbookmark{å°é¢}{cover}

  % ================è®¾ç½®å¯†çº§æ ¼å¼
  % % è®¾å®štextblockå°ºå¯¸å•ä½
  \ifbachelor{}{ % ç¡•åšå¯†çº§ğŸ‘‡
    \setlength{\TPHorizModule}{10mm}
    \setlength{\TPVertModule}{10mm}

    \begin{textblock}{5}(13.5,2.1)
      % \textblockcolour{red!30}% è®¾ç½®èƒŒæ™¯é¢œè‰²
      \begin{table*}
        \begin{flushright}
          \begin{tabular}%{ccp{6em}}
          {>{\fontsize{12pt}{12pt}\selectfont}l
            >{\centering\arraybackslash\fontsize{12pt}{12pt}\selectfont}
            b{1in} b{12pt}}
          å¯†\ \ çº§ & \thesecrets \\\specialrule{0em}{0pt}{0pt}
          \cline{2-2} % è®¾ç½®è¡¨æ ¼ä¸‹æ¡†çº¿æ˜¾ç¤º
          \end{tabular}
        \end{flushright}
        \end{table*}
    \end{textblock}
  }
  ~\\

% ================è®¾ç½®LOGO
  \begin{center}
    \ifbachelor{ % æœ¬ç§‘LOGOğŸ‘‡
      \vspace{-2.2cm}
      \includegraphics[width=0.9 \textwidth]{Guet-logo.pdf}
      
      \vspace{2cm}%æœ¬ç§‘çš„é¢˜ç›®ä¸ç”¨è‹±æ–‡æ‰€ä»¥æ¯”è¾ƒå±…ä¸­ 
    }{ % ç¡•åšLOGOğŸ‘‡
      \vspace{-1.9mm}
      \includegraphics[width=0.9 \textwidth]{Guet-logo.pdf}
      \vspace{1cm} 
    }

    \ifpromaster{ % ä¸“ç¡•ğŸ‘‡
      \fontsize{26pt}{26pt}\selectfont{\heiti\bfseries\booktitle} \\
      \fontsize{20pt}{26pt}\selectfont{\bfseriesï¼ˆå…¨æ—¥åˆ¶ä¸“ä¸šå­¦ä½ç¡•å£«ï¼‰}\\
      \vspace{1cm}
    }{ % å­¦ç¡•åŠåšå£«ğŸ‘‡
      \fontsize{26pt}{26pt}\selectfont{\heiti\bfseries\booktitle} \\
      \vspace{1cm}
    }

  % ================è®¾ç½®é¢˜ç›®æ ¼å¼
  \ifbachelor{ % æœ¬ç§‘é¢˜ç›® ğŸ‘‡
    \vspace{1cm}
    
    \renewcommand{\arraystretch}{1.3}

    \begin{tabular}{m{0.57in}<{\centering}m{4.3in}<{\centering}}
      \bfseries\fontsize{16pt}{16pt}\selectfont é¢˜ç›®: &\multirow[t]{2}{4in}
      {
      \centering
      \linespread{2.0}
      \bfseries\fontsize{16pt}{16pt}\selectfont\zh@thetitle
      } \\ \cline{2-2}
      & \\ \cline{2-2}
    \end{tabular}
    \vspace{2.2cm}
  
  }{ % ç¡•åšé¢˜ç›®ğŸ‘‡
    \renewcommand{\arraystretch}{1.3}
    \begin{tabular}{m{0.55in}<{\centering}m{4.8in}<{\centering}}
      \bfseries\fontsize{16bp}{16bp}\selectfont é¢˜ç›® &\multirow[t]{2}{4.8in}
      {
      \centering
      \bfseries\fontsize{14bp}{26bp}\selectfont \zh@thetitle
      } \\ \cline{2-2}
      & \\ \cline{2-2}
      \bfseries\fontsize{14bp}{14bp}\selectfont (è‹±æ–‡) &\multirow[t]{2}{4.8in}
      {
      \centering
      \bfseries\fontsize{14bp}{26bp}\selectfont \en@thetitle
      } \\ \cline{2-2}
      & \\ \cline{2-2}
    \end{tabular}\hspace*{\fill} \\[\baselineskip]
    \vspace{0.5cm}
  }
    % & \\ \cline{2-2} % æ ‡é¢˜æœ‰å‡ è¡Œå°±æ·»åŠ å‡ è¡Œè¿™æ®µä»£ç 


    % ================è®¾ç½®ä¿¡æ¯æ ¼å¼
    \renewcommand\arraystretch{1.3}
    
    \ifbachelor{ % æœ¬ç§‘å°é¢ä¿¡æ¯ ğŸ‘‡
      \begin{tabular}
        {>{\bfseries\fontsize{15pt}{15pt}\selectfont}m{1.5in}
          >{\centering\arraybackslash\fontsize{15pt}{15pt}\selectfont}
          p{3in} b{18pt}}
  
        å­¦\hspace{0.36cm} \qquad \qquad å·: & \thestudentnumber &\\
        \cline{2-2} 
        å§“\hspace{0.36cm} \qquad \qquad å: & \theauthor & \\
        \cline{2-2}
        å­¦\hspace{0.36cm} \qquad \qquad é™¢: & \theschool &\\
        \cline{2-2}
        ä¸“\quad \hspace{0.36cm} \qquad \quad ä¸š: & \themajor &\\
        \cline{2-2}
        æŒ‡\hspace{0.38cm} å¯¼\hspace{0.38cm} æ•™\hspace{0.38cm} å¸ˆ: & \theadvisor &\\
        \cline{2-2}
        æŒ‡\hspace{0.1pt} å¯¼\hspace{0.1pt} æ•™\hspace{0.1pt} å¸ˆ\hspace{0.1pt} èŒ\hspace{0.1pt} ç§°: & \theprotitle &\\
        \cline{2-2}
      \end{tabular}
      
      \vspace{3cm}
      \fontsize{16pt}{16pt}\selectfont \thedatereply
      
    }{ % ç¡•åšå°é¢ä¿¡æ¯ ğŸ‘‡
    \begin{tabular}
      {>{\bfseries\fontsize{15pt}{15pt}\selectfont}l
        >{\centering\arraybackslash\bfseries\fontsize{15pt}{15pt}\selectfont}
        b{3in} b{15pt}}

      ç ”\quad ç©¶\quad ç”Ÿ\quad å­¦\quad å·: & \thestudentnumber &\\
      \cline{2-2} 
      ç ”\quad ç©¶\quad ç”Ÿ\quad å§“\quad å: & \theauthor & \\
      \cline{2-2}
      æŒ‡å¯¼è€å¸ˆå§“åã€èŒç§°: & \theadvisor \enspace \theprotitle &\\
      \cline{2-2}
      ç”³\enspace è¯·\enspace å­¦\quad ä½\enspace é—¨\enspace ç±»: & \thedegreecategories &\\
      \cline{2-2}
      å­¦\qquad ç§‘ã€ä¸“\qquad ä¸š: & \themajor &\\
      \cline{2-2}
      è®º\enspace æ–‡\enspace ç­”\quad è¾©\enspace æ—¥\enspace æœŸ: & \thedatereply &\\
      \cline{2-2}
    \end{tabular}
    }
    
  \end{center}
    \setcounter{page}{1}
    \setlength{\extrarowheight}{2pt}
    
    %åˆ¤æ–­æ˜¯å¦ä¸ºç”µå­ç‰ˆã€‚trueä¸ºç”µå­ç‰ˆï¼Œfalseä¸ºæ‰“å°ç‰ˆã€‚
    \ifOptionPrintVersion
      {}
    \else
      {\blankpage}
    \fi
  }
  
% ====================å¯¼å…¥å°é¢PDFæ–‡ä»¶è®¾ç½®====================
\newcommand{\bindpdfcover}[1]{
  \pdfbookmark{å°é¢}{cover}
  \includepdf[pages=-]{#1}
  \newpage\setcounter{page}{0}
  }

% ====================ç‹¬åˆ›æ€§ï¼ˆæˆ–åˆ›æ–°æ€§ï¼‰å£°æ˜è®¾ç½®====================
\newcommand{\originalitydeclaration}{
  \newpage
  \thispagestyle{empty} %æ²¡æœ‰é¡µçœ‰é¡µè„šï¼Œç©ºç™½é¡µ
  \begin{spacing}{1.5}
    \pdfbookmark{ç‹¬åˆ›æ€§ï¼ˆæˆ–åˆ›æ–°æ€§ï¼‰å£°æ˜}{originalitydeclaration}
    \noindent
    \ifbachelor{ % æœ¬ç§‘ç‹¬åˆ›æ€§å£°åğŸ‘‡
      \begin{center} % \noindentæ— ç¼©è¿›
        \fontsize{14pt}{20pt}\selectfont\bfseries æœ¬ç§‘ç”Ÿæ¯•ä¸šè®¾è®¡ï¼ˆè®ºæ–‡ï¼‰ç‹¬åˆ›æ€§å£°å
      \end{center}

      \par{\fontsize{12pt}{12pt}\selectfont\noindent\null\hspace{24pt}% % \noindentæ— ç¼©è¿›
      æœ¬äººå£°æ˜æ‰€å‘ˆäº¤çš„æ¯•ä¸šè®¾è®¡ï¼ˆè®ºæ–‡ï¼‰æ˜¯æˆ‘ä¸ªäººåœ¨æŒ‡å¯¼è€å¸ˆæŒ‡å¯¼ä¸‹è¿›è¡Œçš„å·¥ä½œåŠå–å¾—çš„æˆæœã€‚å°½æˆ‘æ‰€çŸ¥ï¼Œé™¤äº†æ–‡ä¸­ç‰¹åˆ«åŠ ä»¥æ ‡æ³¨å’Œè‡´è°¢ä¸­æ‰€ç½—åˆ—çš„å†…å®¹ä»¥å¤–ï¼Œæ–‡ä¸­ä¸åŒ…å«å…¶ä»–äººæˆ–å…¶å®ƒæœºæ„å·²ç»å‘è¡¨æˆ–æ’°å†™è¿‡çš„æˆæœï¼›ä¹Ÿä¸åŒ…å«ä¸ºè·å¾—æ¡‚æ—ç”µå­ç§‘æŠ€å¤§å­¦æˆ–å…¶ä»–æ•™è‚²æœºæ„çš„å­¦ä½æˆ–è¯ä¹¦è€Œä½¿ç”¨è¿‡çš„ææ–™ã€‚å…¶ä»–åŒå¿—å¯¹æœ¬å·¥ä½œçš„å¯å‘å’Œæ‰€åšçš„ä»»ä½•è´¡çŒ®å‡å·²åœ¨æ¯•ä¸šè®¾è®¡ï¼ˆè®ºæ–‡ï¼‰ä¸­åšäº†æ˜ç¡®çš„è¯´æ˜å¹¶è¡¨ç¤ºäº†è°¢æ„ã€‚}
      \\
      \vspace{-1cm}
      \fontsize{12pt}{12pt}\selectfont\noindent\null\hspace{19pt} % \noindentæ— ç¼©è¿›
      æ¯•ä¸šè®¾è®¡ï¼ˆè®ºæ–‡ï¼‰è‹¥æœ‰ä¸å®ä¹‹å¤„ï¼Œæœ¬äººæ‰¿æ‹…ä¸€åˆ‡ç›¸å…³è´£ä»»ã€‚
      \\

      \vspace{2cm}
      \fontsize{12pt}{12pt}\selectfont\noindent\null\hspace{27pt}æœ¬äººç­¾åï¼š\hspace{84pt}%
      æ—¥æœŸï¼š \\
      \vspace{2cm}
      \noindent
      \begin{center} % \noindentæ— ç¼©è¿›
        \fontsize{14pt}{24pt}\selectfont\bfseries æœ¬ç§‘ç”Ÿæ¯•ä¸šè®¾è®¡ï¼ˆè®ºæ–‡ï¼‰ä½¿ç”¨æˆæƒè¯´æ˜
      \end{center}

      \par{\fontsize{12pt}{12pt}\selectfont\noindent\null\hspace{24pt}%
      æ¡‚æ—ç”µå­ç§‘æŠ€å¤§å­¦æœ‰æƒä¿ç•™å¹¶å‘å›½å®¶æœ‰å…³éƒ¨é—¨æˆ–æœºæ„é€äº¤æ¯•ä¸šè®¾è®¡è¯´æ˜ä¹¦ï¼ˆè®ºæ–‡ï¼‰çš„å¤å°ä»¶ï¼Œå…è®¸æ¯•ä¸šè®¾è®¡ï¼ˆè®ºæ–‡ï¼‰è¢«æŸ¥é˜…å’Œå€Ÿé˜…ã€‚æœ¬äººæˆæƒæ¡‚æ—ç”µå­ç§‘æŠ€å¤§å­¦å¯ä»¥å…¬å¸ƒæ¯•ä¸šè®¾è®¡ï¼ˆè®ºæ–‡ï¼‰çš„å…¨éƒ¨æˆ–éƒ¨åˆ†å†…å®¹ï¼Œå¯ä»¥é‡‡ç”¨å½±å°ã€ç¼©å°æˆ–å…¶å®ƒå¤åˆ¶æ‰‹æ®µä¿å­˜ã€æ±‡ç¼–æ¯•ä¸šè®¾è®¡ï¼ˆè®ºæ–‡ï¼‰}
      \\

      \vspace{1.5cm}
      \fontsize{12pt}{12pt}\selectfont\noindent\null\hspace{24pt}ä½œè€…ç­¾åï¼š   
      \hspace{84pt}%
      æ—¥æœŸï¼š \\ \\

      \fontsize{12pt}{12pt}\selectfont\noindent\null\hspace{24pt}å¯¼å¸ˆç­¾åï¼š         
      \hspace{84pt}%
      æ—¥æœŸï¼š \\
  }{ % ç¡•åšç‹¬åˆ›æ€§å£°åğŸ‘‡
    \begin{center} % \noindentæ— ç¼©è¿›
      \fontsize{14pt}{20pt}\selectfont\bfseries ç‹¬åˆ›æ€§å£°æ˜
    \end{center}

    \par{\fontsize{12pt}{12pt}\selectfont\noindent\null\hspace{24pt}% % \noindentæ— ç¼©è¿›
    æœ¬äººå£°æ˜æ‰€å‘ˆäº¤çš„è®ºæ–‡æ˜¯æˆ‘ä¸ªäººåœ¨å¯¼å¸ˆæŒ‡å¯¼ä¸‹è¿›è¡Œçš„ç ”ç©¶å·¥ä½œåŠå–å¾—çš„ç ”ç©¶æˆæœã€‚å°½æˆ‘æ‰€çŸ¥ï¼Œé™¤äº†æ–‡ä¸­ç‰¹åˆ«åŠ ä»¥æ ‡æ³¨å’Œè‡´è°¢ä¸­æ‰€ç½—åˆ—çš„å†…å®¹ä»¥å¤–ï¼Œè®ºæ–‡ä¸­ä¸åŒ…å«å…¶ä»–äººå·²ç»å‘è¡¨æˆ–æ’°å†™è¿‡çš„ç ”ç©¶æˆæœï¼›ä¹Ÿä¸åŒ…å«ä¸ºè·å¾—æ¡‚æ—ç”µå­ç§‘æŠ€å¤§å­¦æˆ–å…¶å®ƒæ•™è‚²æœºæ„çš„å­¦ä½æˆ–è¯ä¹¦è€Œä½¿ç”¨è¿‡çš„ææ–™ã€‚ä¸æˆ‘ä¸€åŒå·¥ä½œçš„åŒå¿—å¯¹æœ¬ç ”ç©¶æ‰€åšçš„ä»»ä½•è´¡çŒ®å‡å·²åœ¨è®ºæ–‡ä¸­åšäº†æ˜ç¡®çš„è¯´æ˜å¹¶è¡¨ç¤ºäº†è°¢æ„ã€‚}
    \\

    \fontsize{12pt}{12pt}\selectfont\noindent\null\hspace{24pt} % \noindentæ— ç¼©è¿›
    ç”³è¯·å­¦ä½è®ºæ–‡ä¸èµ„æ–™è‹¥æœ‰ä¸å®ä¹‹å¤„ï¼Œæœ¬äººæ‰¿æ‹…ä¸€åˆ‡ç›¸å…³è´£ä»»ã€‚%
    \\

    \fontsize{12pt}{12pt}\selectfont\noindent\null\hspace{24pt}æœ¬äººç­¾åï¼š\hspace{84pt}%
    æ—¥æœŸï¼š \\

    \vspace{1cm}
    \noindent
    \begin{center} % \noindentæ— ç¼©è¿›
      \fontsize{14pt}{20pt}\selectfont\bfseries å…³äºè®ºæ–‡ä½¿ç”¨æˆæƒçš„è¯´æ˜
    \end{center}

    \par{\fontsize{12pt}{12pt}\selectfont\noindent\null\hspace{24pt}%
    æœ¬äººå®Œå…¨äº†è§£æ¡‚æ—ç”µå­ç§‘æŠ€å¤§å­¦æœ‰å…³ä¿ç•™å’Œä½¿ç”¨å­¦ä½è®ºæ–‡çš„è§„å®šï¼Œå³ï¼šç ”ç©¶ç”Ÿåœ¨æ ¡æ”»è¯»å­¦ä½æœŸé—´è®ºæ–‡å·¥ä½œçš„çŸ¥è¯†äº§æƒå•ä½å±æ¡‚æ—ç”µå­ç§‘æŠ€å¤§å­¦ã€‚æœ¬äººä¿è¯æ¯•ä¸šç¦»æ ¡åï¼Œç»“åˆå­¦ä½è®ºæ–‡ç ”ç©¶æˆæœå®Œæˆçš„è®ºæ–‡ã€å‘æ˜ä¸“åˆ©ç­‰æˆæœï¼Œç½²åå•ä½ä»ç„¶ä¸ºæ¡‚æ—ç”µå­ç§‘æŠ€å¤§å­¦ã€‚å­¦æ ¡æœ‰æƒä¿ç•™é€äº¤è®ºæ–‡çš„å¤å°ä»¶ï¼Œå…è®¸æŸ¥é˜…å’Œå€Ÿé˜…è®ºæ–‡ï¼›å­¦æ ¡å¯ä»¥å…¬å¸ƒè®ºæ–‡çš„å…¨éƒ¨æˆ–éƒ¨åˆ†å†…å®¹ï¼Œå¯ä»¥å…è®¸é‡‡ç”¨å½±å°ã€ç¼©å°æˆ–å…¶å®ƒå¤åˆ¶æ‰‹æ®µä¿å­˜è®ºæ–‡ã€‚ï¼ˆä¿å¯†çš„è®ºæ–‡åœ¨è§£å¯†åéµå®ˆæ­¤è§„å®šï¼‰}\\

    \vspace{1cm}

    \fontsize{12pt}{12pt}\selectfont\noindent\null\hspace{24pt}ä½œè€…ç­¾åï¼š   
    \hspace{84pt}%
    æ—¥æœŸï¼š \\

    \fontsize{12pt}{12pt}\selectfont\noindent\null\hspace{24pt}å¯¼å¸ˆç­¾åï¼š         
    \hspace{84pt}%
    æ—¥æœŸï¼š \\
  }
  \end{spacing}
    \ifOptionPrintVersion
      {}
    \else
      {\blankpage}
    \fi
}

% ====================å¯¼å…¥ç‹¬åˆ›æ€§å£°æ˜å®šä¹‰PDFæ–‡ä»¶è®¾ç½®====================
\newcommand{\signatureofdeclaration}[1]{
  \includepdf[pages=-]{#1}
  \newpage\setcounter{page}{0}
}

% ++++++++++++++++++++++++++++++++++++++++++++++++ å°é¢è®¾ç½®ç›¸å…³ç»“æŸ ++++++++++++++++++++++++++++++++++++++++++++++++




% ===============å­—ä½“è®¾ç½®===============
\newCJKfontfamily{\kaiti}[AutoFakeBold=true]{GB2312.ttf} %æ¥·ä½“
\ifwindows
  \setCJKmainfont[AutoFakeBold=true]{SimSun} %è®¾ç½®xeCJK ä¸­æ–‡ä¸»å­—ä½“
  \newCJKfontfamily{\heiti}[AutoFakeBold=true]{SimHei} 
  \newfontfamily{\heiti@letter}{SimHei}
  \setallmainfonts{Times New Roman} %è®¾ç½®è‹±æ–‡å­—ä½“
\else
\ifmacosx
  \setCJKmainfont[AutoFakeBold=true]{Songti SC}
  \newCJKfontfamily{\heiti}[AutoFakeBold=true]{STHeiti}
  \newfontfamily{\heiti@letter}{STHeiti}
  \setallmainfonts{Times New Roman}
\else
  \setCJKmainfont[AutoFakeBold=true]{fzsong.ttf}
  \newCJKfontfamily{\heiti}[AutoFakeBold=true]{fzhei.ttf}
  \newfontfamily{\heiti@letter}{fzhei.ttf}
  \setallmainfonts[
    BoldFont=timesbd.ttf,
    ItalicFont=timesi.ttf,
    BoldItalicFont=timesbi.ttf,
  ]{times.ttf}
\fi
\fi

% ===============è®¾ç½®æ•°å­¦å­—ä½“===============
\DeclareMathAlphabet{\mathbf}{\eu@enc}{\eu@mathrm}{\bfdefault}{it}
\DeclareMathAlphabet{\mathbd}{\eu@enc}{\eu@mathrm}{\bfdefault}{n}
\newcommand{\bm}{\mathbf}

% ===============å®šä¹‰ç›¸å…³çº¿å®½===============
\setlength{\heavyrulewidth}{0.9pt}
\setlength{\lightrulewidth}{0.5pt}
\setlength{\arrayrulewidth}{0.5pt}
\setlength{\cmidrulewidth}{0.5pt}

% ===============enumitemç¯å¢ƒè®¾ç½®===============
\AddEnumerateCounter*{\chinese}{\zhnumber}{\arabic} % enumitem ä¸­æ–‡ç¼–å·è®¾ç½®


% ===============ä¸æ¸…æ¥š===============
\renewcommand{\thesubfigure}{(\alph{subfigure})} %è®¾ç½®å­å›¾æ ‡é¢˜åºå·
\newcommand{\floatcontinue}{\end{figure}\clearpage\begin{figure}[tb]\ContinuedFloat}

\urlstyle{rm}
\raggedbottom %é¡¶éƒ¨å¯¹é½

% ===============è®¾ç½®é¡µçœ‰åŒçº¿===============
%æœ¬ç§‘é¡µçœ‰æ˜¯ä¸€æ¡æ¨ªçº¿
\ifbachelor{ % æœ¬ç§‘é¡µçœ‰ ğŸ‘‡
\newdimen\singlelineskip 
	\setlength\singlelineskip{2pt} 
	\renewcommand\headrule{% 
		\hrule height\headrulewidth width\headwidth% 
		\vskip 1.2\singlelineskip}
}{ % ç¡•åšé¡µçœ‰ ğŸ‘‡
  \newdimen\doublelineskip % ä¸¤æ¨ªçº¿é—´çš„è·ç¦»
  \setlength\doublelineskip{1pt}
  \renewcommand\headrule{%
    \hrule height\headrulewidth width\headwidth%
    \vskip 1.2\doublelineskip%
    \hrule height\headrulewidth width\headwidth}
}
  % ===============è®¾ç½®æ®µè½æ ¼å¼===============
\setlength{\headheight}{17pt} % åŸå…ˆè®¾ç½®æ˜¯15pt
\pagestyle{fancy} % è®¾ç½®é£æ ¼ä¸ºfancy
\linespread{1.389} % å­—å·å¤§å°ä¸º12bpï¼ŒåŸºæœ¬è¡Œè·ä¸º12Ã—1.2=14.4bpï¼Œæ¬²è®¾ç½®è¡Œè·ä¸º20bpï¼Œåˆ™å› å­ä¸º20/14.4=1.389
\setlength\parindent{24pt} % % è®¾ç½®ç¼©è¿›é•¿åº¦ ä¸¤ä¸ªå°å›› ptï¼šç£…ï¼Œbpï¼šå¤§ç‚¹ï¼Œpcï¼špica 

% ===============è®¾ç½®æ ‡é¢˜æ®µè½===============  
\titlespacing{\chapter}{0pt}{0pt}{18pt} 
\titlespacing{\section}{0pt}{18pt}{6pt}
\titlespacing{\subsection}{0pt}{12pt}{6pt}
\titlespacing{\subsubsection}{0pt}{12pt}{6pt}
%æ ‡é¢˜å‘¨è·è®¾ç½®ï¼Œ\titlespacing*{æ ‡é¢˜å‘½ä»¤}{å·¦é—´è·}{ä¸Šé—´è·}{ä¸‹é—´è·} [å³é—´è·]ï¼Œç”¨å®ƒå¯ä»¥è®¾ç½®æ¯ç§å±‚æ¬¡æ ‡é¢˜ä¸å››å‘¨ä¹‹é—´çš„è·ç¦»ã€‚


% ===============è®¾ç½®æ ‡é¢˜æ ¼å¼===============  

\ifbachelor{ % æœ¬ç§‘å°èŠ‚ç¼–å·æ ¼å¼ ğŸ‘‡
  \renewcommand\thechapter{\arabic{chapter}}
  \renewcommand\thesection{\arabic{chapter}.\arabic{section}} 
}{ % ç¡•åšå°èŠ‚ç¼–å·æ ¼å¼ ğŸ‘‡
  \renewcommand\thechapter{ç¬¬\zhnumber{\arabic{chapter}}ç« } %\zhnumber{è®¡æ•°å™¨}ï¼Œä½¿è®¡æ•°å™¨å€¼è¾“å‡ºä¸ºæ±‰å­—æ ¼å¼ã€‚
  \renewcommand\thesection{\S\arabic{chapter}.\arabic{section}} 
}
%\theè®¡æ•°å™¨ï¼Œæ˜¾ç¤ºè®¡æ•°å™¨çš„å€¼ï¼Œè¯¥å‘½ä»¤åªä½¿ç”¨äºåºå·è®¡æ•°å™¨ï¼Œä¾‹å¦‚\thepageæ˜¾ç¤ºå½“å‰é¡µç ã€‚\value{è®¡æ•°å™¨}è°ƒç”¨è®¡æ•°å™¨çš„å€¼ï¼Œæ— è®ºè®¡æ•°å™¨çš„è®¡æ•°å½¢å¼å¦‚ä½•éƒ½è¢«è½¬æ¢æˆå¯¹åº”çš„é˜¿æ‹‰ä¼¯æ•°å­—ã€‚ \S æ ‡é¢˜å‰åŠ ç‰¹æ•°ç¬¦å·
\counterwithin{figure}{chapter} % è®¾ç½®å¯¹åº”è®¡æ•°å™¨æ¯ç« é‡ç½®
\counterwithin{table}{chapter} % è®¾ç½®å¯¹åº”è®¡æ•°å™¨æ¯ç« é‡ç½®
\ifbachelor{ % æœ¬ç§‘å›¾è¡¨å…¬å¼é¢˜æ³¨ç¼–å·æ ¼å¼ ğŸ‘‡
  \renewcommand{\theequation}{\arabic{chapter}.\arabic{equation}} %æ˜¾ç¤ºå…¬å¼ç¼–å·ï¼Œå…¶æ ¼å¼x-x
  \renewcommand{\thetable}{\arabic{chapter}.\arabic{table}} %æ˜¾ç¤ºè¡¨æ ¼ç¼–å·ï¼Œå…¶æ ¼å¼x-x
  \renewcommand{\thefigure}{\arabic{chapter}.\arabic{figure}} %æ˜¾ç¤ºæ’å›¾ç¼–å·ï¼Œå…¶æ ¼å¼x-x
}{ % ç¡•åšå›¾è¡¨å…¬å¼é¢˜æ³¨ç¼–å·æ ¼å¼ ğŸ‘‡
  \renewcommand{\theequation}{\arabic{chapter}-\arabic{equation}} %æ˜¾ç¤ºå…¬å¼ç¼–å·ï¼Œå…¶æ ¼å¼x-x
  \renewcommand{\thetable}{\arabic{chapter}-\arabic{table}} %æ˜¾ç¤ºè¡¨æ ¼ç¼–å·ï¼Œå…¶æ ¼å¼x-x
  \renewcommand{\thefigure}{\arabic{chapter}-\arabic{figure}} %æ˜¾ç¤ºæ’å›¾ç¼–å·ï¼Œå…¶æ ¼å¼x-x
}
%chapterç« åºå·è®¡æ•°å™¨ï¼ŒsectionèŠ‚åºå·è®¡æ•°å™¨ï¼Œsubsectionå°èŠ‚åºå·è®¡æ•°å™¨ï¼Œsubsubsectionå°å°èŠ‚åºå·è®¡æ•°å™¨ï¼Œparagraphæ®µåºå·è®¡æ•°å™¨ï¼Œfigureæ’å›¾åºå·è®¡æ•°å™¨ï¼Œtableè¡¨æ ¼åºå·è®¡æ•°å™¨ï¼Œpageé¡µç åºå·è®¡æ•°å™¨ï¼Œequationå…¬å¼åºå·è®¡æ•°å™¨


% ===============è®¾ç½®å›¾è¡¨æ ¼å¼===============  
\captionsetup{width=\textwidth - 60pt}%84pt
\captionsetup[subfigure]{aboveskip=2pt, belowskip=2pt}% , width=36pt è®¾ç½®å­å›¾æ ‡é¢˜çš„å®½åº¦ 
\captionsetup[subfoat]{aboveskip=2pt, belowskip=2pt}
\captionsetup[figure]{aboveskip=3pt, belowskip=0pt} %è®¾ç½®æ ‡é¢˜ä¸æ’å›¾æˆ–è¡¨æ ¼ä¹‹é—´çš„å‚ç›´è·ç¦»ï¼Œè®¾ç½®æ ‡é¢˜ä¸ä¸‹æ–‡ä¹‹é—´çš„é™„åŠ å‚ç›´è·ç¦», å¦‚æœæ ‡é¢˜åœ¨æ’å›¾æˆ–è¡¨æ ¼ä¹‹ä¸‹;æˆ–æ ‡é¢˜ä¸ä¸Šæ–‡ä¹‹é—´çš„é™„åŠ å‚ç›´è·ç¦», å¦‚æœæ ‡é¢˜åœ¨æ’å›¾æˆ–è¡¨æ ¼ä¹‹ä¸Šã€‚è¯¥å‚æ•°çš„é»˜è®¤å€¼æ˜¯0ptã€‚ä¸º6ptï¼Œä¸‹é¢ä¸º0pt
\captionsetup[table]{aboveskip=0pt, belowskip=6pt}
\captionsetup[longtable]{aboveskip=0pt, belowskip=6pt}
\setlength{\intextsep}{9pt} % æ§åˆ¶å‡ºç°åœ¨é¡µâ¾¯ä¸­é—´çš„æµ®åŠ¨ä½“ï¼ˆå¦‚ä½¿â½¤äº†h é€‰é¡¹çš„æµ®åŠ¨ä½“ï¼‰ä¸ä¸Šä¸‹æ–¹æ–‡æœ¬ä¹‹é—´çš„å‚ç›´è·ç¦»
% \setlength{\textfloatsep}{6pt} % æ§åˆ¶å‡ºç°åœ¨é¡µâ¾¯çš„é¡¶éƒ¨æˆ–åº•éƒ¨çš„æµ®åŠ¨ä½“ä¸â½‚æœ¬ä¹‹é—´çš„å‚ç›´è·ç¦»


\AtBeginEnvironment{figure}{ %è®©å›¾ç¯å¢ƒçš„å†…å®¹å±…ä¸­
  \def\@floatboxreset{\centering}%
}
\AtBeginEnvironment{table}{ %è®©è¡¨æ ¼ç¯å¢ƒçš„å†…å®¹å±…ä¸­
  \def\@floatboxreset{\centering}%
}
\AtBeginEnvironment{tabular}{\small}%è¡¨æ ¼å­—ä½“å°äº”
\AtBeginEnvironment{tabular*}{\small}%è¡¨æ ¼å­—ä½“å°äº”
\AtBeginEnvironment{longtable}{\small}%è·¨é¡µè¡¨æ ¼å­—ä½“å°äº”
%\captionsetup{format=hang} %captionå·¥å…·åŒ…åœ¨åŠ è½½æ—¶å¯ä»¥ä¿®æ”¹æ ‡é¢˜çš„å¾ˆå¤šæ–¹é¢ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ captionsetupå‘½ä»¤ä¹Ÿå¯ä»¥åœ¨å·¥å…·åŒ…é€‰é¡¹ä¸­ä¿®æ”¹ã€‚\captionsetup[æµ®åŠ¨ä½“ç±»å‹]{å‚æ•°1=é€‰é¡¹, å‚æ•°2=é€‰é¡¹,â€¦}å…¶ä¸­å¯é€‰å‚æ•°æµ®åŠ¨ä½“ç±»å‹çš„é€‰é¡¹å¯ä»¥æ˜¯figureæˆ–table,å¦‚æœçœç•¥è¯¥å‚æ•°, åˆ™è¡¨ç¤ºè¿™ä¸¤ç§æµ®åŠ¨ä½“éƒ½é€‚ç”¨ã€‚formatï¼šplainé»˜è®¤å€¼,å°†æ ‡é¢˜ä½œä¸ºæ™®é€šæ®µè½æ’ç‰ˆã€‚hangå°†æ ‡é¢˜ä»ç¬¬äºŒè¡Œèµ·æ‚¬æŒ‚ç¼©è¿›æ’ç‰ˆï¼Œç¼©è¿›å®½åº¦ç­‰äºæ ‡é¢˜æ ‡å¿—åŠ åˆ†éš”ç¬¦çš„å®½åº¦ã€‚indentionè®¾ç½®ä»æ ‡é¢˜ç¬¬äºŒè¡Œèµ·çš„é™„åŠ ç¼©è¿›å®½åº¦, ä¾‹å¦‚indention=5mm,å…¶é»˜è®¤å€¼æ˜¯0ptã€‚
%æ ‡é¢˜è®¾ç½®\captionsetup


% ===============ç« èŠ‚å’Œç›®å½•æ·±åº¦è®¾ç½®===============
\setcounter{secnumdepth}{3} %è®¾ç½®ç« èŠ‚æ·±åº¦
\setcounter{tocdepth}{2} %è®¾ç½®ç›®å½•æ·±åº¦



% ===============è®¾ç½®æ ‡é¢˜å­—ä½“=============== 
\titleformat{\chapter}[block]
  {\centering\fontsize{16pt}{16pt}\selectfont\heiti\thispagestyle{fancy}}
  {\thechapter}{7.5pt}{} % \thispagestyle{fancy} éœ€è¦ä½¿ç”¨fancyhdråŒ…ï¼Œå¹¶æä¾›äº†å¥‡å¶é¡µä¸åŒçš„é£æ ¼

\titleformat{\section}[block]
  {\centering\fontsize{14pt}{14pt}\selectfont} %\heiti è®¾ç½®ä¸ºç²—ä½“
  {\thesection}{7pt}{}

\titleformat{\subsection}[block]
  {\fontsize{14pt}{14pt}\selectfont}
  {\thesubsection}{7pt}{}

\titleformat{\subsubsection}[block]
  {\fontsize{12pt}{12pt}\selectfont}
  {\thesubsubsection}{6pt}{}
  \renewcommand{\thesubsubsection}{\arabic{subsubsection}.} %å››çº§æ ‡é¢˜æ ¼å¼è®¾ç½®ä¸º 1.
  
% ===============å®šä¹‰è®¡æ•°å™¨=============== 
% \newcounter{pseudopage} %è‡ªå®šä¹‰ä¸€ä¸ªåå­—pseudopageæ–°è®¡æ•°å™¨
% \setcounter{pseudopage}{0} %pseudopageæ–°è®¡æ•°å™¨æ¸…é›¶
% \AddToHook {shipout/background}{\stepcounter{pseudopage}} 
%\stepcounter{è®¡æ•°å™¨}ï¼Œå°†è®¡æ•°å™¨çš„å€¼åŠ 1ï¼Œå¦‚æœè®¡æ•°å™¨æ˜¯å±‚æ¬¡æ ‡é¢˜çš„åºå·è®¡æ•°å™¨ï¼Œè¿˜å°†æ¯”å…¶ä½ä¸€å±‚è®¡æ•°å™¨æ¸…é›¶ã€‚ä¾‹å¦‚\stepcounter{chapter},å°†chapteråºå·è®¡æ•°å™¨åŠ 1ï¼ŒåŒæ—¶å°†sectionä»¥åŠä½äºsectionçš„åºå·è®¡æ•°å™¨å½’é›¶ã€‚


%=========================ä¸­æ–‡æ‘˜è¦
\newenvironment{chineseabstract}{
  \chapter*{æ‘˜\quad è¦}
  \setcounter{page}{1} % å®šä¹‰ä¸ºç¬¬ä¸€é¡µ
  \addcontentsline{toc}{chapter}{\heiti æ‘˜\quad è¦} % è®¾ç½®åœ¨ç›®å½•æ˜¾ç¤ºæ‘˜è¦
  \pagenumbering{Roman} % è®¾ç½®é¡µç æ˜¾ç¤ºä¸ºç½—é©¬æ•°å­—
  \markright{\centering æ‘˜\quad è¦} %æ‰‹åŠ¨è®¾ç½®é¡µçœ‰
  \fancyhf{} %åˆå§‹åŒ–é¡µç é¡µè„šå¸ƒå±€
  \fancyhead[C]{\fontsize{10.5pt}{12.6pt}\selectfont æ‘˜\quad è¦} %è®¾ç½®é¡µçœ‰
  \fancyfoot[CE,CO]{\fontsize{9pt}{10.8pt}\selectfont\Roman{page}} % ç½—é©¬é¡µç å±…ä¸­æ˜¾ç¤º
}{
  \ifOptionPrintVersion
    {}
  \else
    \checkoddpage
    \ifoddpage
      \blankpage@number
    \else
      \newpage
    \fi
  \fi

}

%=========================ä¸­æ–‡å…³é”®å­—
\newcommand{\chinesekeyword}[1]{
\vspace{\baselineskip}
\noindent %æ— ç¼©è¿›
\@hangfrom{\makebox[48pt][l]{\textbf{å…³é”®è¯ï¼š}}}#1
}

%=========================è‹±æ–‡æ‘˜è¦
\newenvironment{englishabstract}{
\chapter*{\bfseries ABSTRACT}
\addcontentsline{toc}{chapter}{\bfseries ABSTRACT} % è®¾ç½®åœ¨ç›®å½•æ˜¾ç¤º
\markright{\centering\rm ABSTRACT} %æ‰‹åŠ¨è®¾ç½®é¡µçœ‰
\fancyhf{} 
\fancyhead[C]{\fontsize{10.5pt}{12.6pt}\selectfont ABSTRACT}
\fancyfoot[CE,CO]{\fontsize{9pt}{10.8pt}\selectfont\Roman{page}}
}{
  \ifOptionPrintVersion
    {}
  \else
    \checkoddpage
    \ifoddpage
      \blankpage@number
    \else
      \newpage
    \fi
  \fi
  }
  

%%%%%%%%%%%%%%%%%%%%%%%%%%%%è‹±æ–‡å…³é”®å­—
\newcommand{\englishkeyword}[1]{
  \vspace{\baselineskip}
  \noindent %æ— ç¼©è¿›
  \@hangfrom{\makebox[2.1cm][l]{\textbf{Keywords:}}}#1
}


%å®šä¹‰åŠ å…¥ç›®å½•çš„è¯è¯­
%\addtocontents{æ‰©å±•å} {æ–‡æœ¬}å®ƒå¯ä»¥å°†ä»»æ„æ–‡æœ¬å’Œç›¸å…³æ ¼å¼å‘½ä»¤å†™å…¥ç›®å½•æˆ–åœ¨åˆ›å»ºç›®å½•æ—¶ï¼ˆå¦‚æœæ˜¯å‘½ä»¤ï¼‰åˆ™è¢«æ‰§è¡Œ,ä½†å®ƒä¸ä¼šå°†å‘½ä»¤å†™å…¥ç›®å½•ã€‚ æ–‡æœ¬å¯ä»¥æ˜¯ä»»æ„å­—ç¬¦æˆ–\vspaceã€\newpageç­‰è°ƒæ•´æŸä¸€æ¡ç›®æ ¼å¼çš„å‘½ä»¤,ä¸€èˆ¬åœ¨å‘½ä»¤å‰åŠ \protectã€‚
\AddToHook {shipout/background}{\addtocontents{toc}{
  \protect\cftsetpnumwidth{\widthof{\thepage}-1pt}
}}

\AddToHook {shipout/background}{\addtocontents{lof}{
  \protect\cftsetpnumwidth{\widthof{\thepage}-1pt}
}}

\AddToHook {shipout/background}{\addtocontents{lot}{
  \protect\cftsetpnumwidth{\widthof{\thepage}-1pt}
}}

%è®¾ç½®å¥‡æ•°å’Œå¶æ•°é¡µé¡µçœ‰æ æ–‡å­—%ä½¿ç”¨è®¡æ•°å™¨
\tocloftpagestyle{fancy} %ç”¨æˆ·è‡ªå®šä¹‰çš„å¥‡é¡µçœ‰ä½¿ç”¨æ¡‚æ—ç”µå­ç§‘æŠ€å¤§å­¦xxxï¼Œå¶æ•°ä½¿ç”¨æ ‡é¢˜ï¼Œé¡µè„šé¡µçœ‰å±…ä¸­
\renewcommand{\cftchappagefont}{\normalfont}
\renewcommand\cftchapleader{\cftdotfill{\cftdotsep}}
\renewcommand{\cftdotsep}{0.4}

\setlength{\cftbeforetoctitleskip}{0pt}
\setlength{\cftaftertoctitleskip}{18pt}
\setlength{\cftbeforechapskip}{0pt}
\ifbachelor{ % æœ¬ç§‘ç›®å½•æ ¼å¼ ğŸ‘‡
  \linespread{1.389} %æœ¬ç§‘ç›®å½•20ç£…è¡Œé—´è·
  
  \cftsetindents{chapter}{0pt}{20pt} %ä¸€ä¸ªç©ºæ ¼çº¦ä¸º5ç£…
  \cftsetindents{section}{0pt}{25pt}
  \cftsetindents{subsection}{0pt}{30pt}
  \cftsetindents{subsubsection}{0pt}{41pt}
  %æœ¬ç§‘ç›®å½•å­—ä½“å¤§å°
  \renewcommand\cftchapfont{\fontsize{15pt}{15pt}\selectfont\heiti}
  \renewcommand\cftsecfont{\fontsize{14pt}{14pt}\selectfont\heiti}
  \renewcommand\cftsubsecfont{\fontsize{14pt}{15pt}\selectfont\kaiti}
}{ % ç¡•åšç›®å½•æ ¼å¼ ğŸ‘‡
  \addtolength{\cftchapnumwidth}{25pt}

  \cftsetindents{section}{21pt}{22pt}
  \cftsetindents{subsection}{44pt}{31pt}
  \cftsetindents{subsubsection}{76pt}{41pt}

  \renewcommand{\cfttoctitlefont}{\fontsize{15pt}{15pt}\selectfont\heiti}
  \renewcommand\cftchapfont{\heiti}
}



% ====================æ­£æ–‡é¡µçœ‰è®¾ç½®====================
\renewcommand{\chaptermark}[1]{\markboth{\thechapter\hspace*{5.25pt}#1}{}} %ä¿®æ”¹é¡µçœ‰ç« èŠ‚æ˜¾ç¤ºå†…å®¹ %\markboth{<å·¦é¢é¡µçœ‰>}{<å³é¢é¡µçœ‰>}
\ifbachelor{ % æœ¬ç§‘é¡µçœ‰æ–‡å­— ğŸ‘‡
  \newcommand{\standardheader}{
  \fancyhf{}
  \fancyhead[CE,CO]{\fontsize{10.5pt}{12.6pt}\selectfont æ¡‚æ—ç”µå­ç§‘æŠ€å¤§å­¦æ¯•ä¸šè®¾è®¡ï¼ˆè®ºæ–‡ï¼‰}
  \fancyhead[RE,RO]{\fontsize{10.5pt}{12.6pt}\selectfont ç¬¬\thepage é¡µ\enspace å…± \pageref {LastPage} é¡µ }
  }
}{ % ç¡•åšé¡µçœ‰æ–‡å­— ğŸ‘‡
  \newcommand{\standardheader}{
    \fancyhf{}
    \fancyhead[CE]{\fontsize{10.5pt}{12.6pt}\selectfont\zh@thetitle}
    \fancyhead[CO]{\fontsize{10.5pt}{12.6pt}\selectfont\leftmark} %å¥‡æ•°é¡µé¡µçœ‰ä½¿ç”¨æ ‡é¢˜
    \fancyfoot[CE,CO]{\fontsize{9pt}{10.8pt}\selectfont\thepage}
  }
}


% ====================å°†é»˜è®¤åç§°æ”¹ä¸ºä¸­æ–‡====================


% ===============å›¾è¡¨å…¬å¼å¼•ç”¨è®¾ç½®=============== cleveref
% \crefformat{equation}{å¼#1} %å…¬å¼å¼•ç”¨æ ‡ç­¾ä¸­å»æ‰æ‹¬å·
\crefname{figure}{å›¾}{å›¾} % æ›´æ”¹å¼•ç”¨å‰ç¼€ å‚æ•°äºŒä¸ºå•ç‹¬å¼•ç”¨
\crefname{table}{è¡¨}{è¡¨} % å‚æ•°ä¸‰ä¸ºå¤šä¸ªå¼•ç”¨
\crefname{equation}{å¼}{å¼}
\crefname{algorithm}{ç®—æ³•}{ç®—æ³•}
\crefname{chapter}{}{}
\crefname{section}{}{}
\crefname{subsection}{}{}
\renewcommand{\contentsname}{ç›®\quad å½•} %ä½¿é»˜è®¤çš„Contentsæ”¹ä¸ºç›® å½•æ˜¾ç¤º
\renewcommand{\bibname}{å‚è€ƒæ–‡çŒ®} %ä½¿é»˜è®¤çš„å‚è€ƒæ–‡çŒ®åå­—æ”¹ä¸ºå‚è€ƒæ–‡çŒ®æ˜¾ç¤º
\renewcommand{\figurename}{å›¾} %ä½¿é»˜è®¤çš„å›¾åå­—æ”¹ä¸ºå›¾æ˜¾ç¤º
\renewcommand{\tablename}{è¡¨} %ä½¿é»˜è®¤çš„è¡¨åå­—æ”¹ä¸ºè¡¨æ˜¾ç¤º
\renewcommand{\listfigurename}{æ’å›¾ç´¢å¼•}
\renewcommand{\listtablename}{æ’è¡¨ç´¢å¼•}

\setlength{\extrarowheight}{2pt} % è¡Œè·


% ====================ç›®å½•è®¾ç½®====================

\newcommand{\thesistableofcontents}{\tableofcontents}
\pretocmd{\tableofcontents}{
  \newpage
  \fancyhf{}
  \fancyhead[C]{\fontsize{10.5pt}{12.6pt}\selectfont ç›®\quad å½•}
  \fancyfoot[CE,CO]{\fontsize{9pt}{10.8pt}\selectfont\Roman{page}}
  \pdfbookmark{ç›®å½•}{toc}
}{}{}


% ====================æ’å›¾ç´¢å¼•æ ¼å¼è®¾ç½®====================
\newcommand{\thesisfigurelist}{\listoffigures} % è‡ªå®šä¹‰è°ƒç”¨\listoffiguresçš„å‘½ä»¤

\pretocmd{\listoffigures}{ % å›¾ç›®å½•æ˜¯å­˜æ”¾åœ¨.lofç›®å½•çš„æ–‡ä»¶ä¸‹
  \newpage  %æ–°å»ºä¸€é¡µ
  \fancyhf{} %åˆå§‹åŒ–é¡µç é¡µè„šå¸ƒå±€
  \fancyhead[C]{\fontsize{10.5pt}{12.6pt}\selectfont{æ’å›¾ç´¢å¼•}}
  \fancyfoot[CE,CO]{\fontsize{9pt}{10.8pt}\selectfont\Roman{page}} % ç½—é©¬é¡µç å±…ä¸­æ˜¾ç¤º
  \addtolength{\cftfignumwidth}{12pt} %è®¾ç½®é•¿åº¦å‘½ä»¤ï¼Œä½¿å‘½ä»¤\cftfignumwidthçš„é•¿åº¦è®¾ç½®ä¸º12ptï¼Œæ¡ç›®ç¼–å·ä¸æ¡ç›®å†…å®¹ä¹‹é—´å ç”¨çš„å®½åº¦, ä¾‹å¦‚ï¼šå›¾ 1-2 [\cftfignumwidth] ç”µå­æˆ˜é£æœº
  \renewcommand{\cftfigpresnum}{å›¾} %æ¡ç›®ç¼–å·å‰å†…å®¹  
  \addtocontents{toc}{\protect\setcounter{tocdepth}{0}} %å°†ç›®å½•æ·±åº¦è®¾ç½®ä¸º0 å°±ä¼šåœ¨ç›®å½•ä¸­æ˜¾ç¤º
}{}{} 

% ====================æ’è¡¨ç´¢å¼•æ ¼å¼è®¾ç½®====================
\newcommand{\thesistablelist}{\listoftables}

\pretocmd{\listoftables}{ % è¡¨ç›®å½•æ˜¯å­˜æ”¾åœ¨.lotç›®å½•çš„æ–‡ä»¶ä¸‹
  \newpage
  \fancyhf{}
  \fancyhead[C]{\fontsize{10.5pt}{12.6pt}\selectfont {æ’è¡¨ç´¢å¼•}}
  \fancyfoot[CE,CO]{\fontsize{9pt}{10.8pt}\selectfont\Roman{page}}
  \addtolength{\cfttabnumwidth}{12pt} %æ¡ç›®ç¼–å·å ç”¨å®½åº¦ï¼Œæ¡ç›®ç¼–å·ä¸æ¡ç›®å†…å®¹ä¹‹é—´å ç”¨çš„å®½åº¦, ä¾‹å¦‚ï¼šè¡¨1-1 [\cftfignumwidth] å‚æ•°è®¾ç½®
  \renewcommand{\cfttabpresnum}{è¡¨} %æ¡ç›®ç¼–å·å‰å†…å®¹
  \addtocontents{toc}{\protect\setcounter{tocdepth}{0}} %å°†ç›®å½•æ·±åº¦è®¾ç½®ä¸º-1ï¼Œç›®å½•ä¸­åªæ˜¾ç¤ºä¸€çº§æ ‡é¢˜ 0 ä¸ºchapter
}{}{}


% ====================ç¬¦å·è¯´æ˜é¡µé¢è®¾ç½®====================
\newcommand{\thesissymbollist}{ 
  \newpage 
  \fancyhf{}
  \fancyhead[C]{\fontsize{10.5pt}{12.6pt}\selectfont ç¬¦å·è¯´æ˜}
  \fancyfoot[CE,CO]{\fontsize{9pt}{10.8pt}\selectfont\Roman{page}}
  \renewcommand{\nomname}{ç¬¦å·è¯´æ˜} %ä¿®æ”¹ç¬¦å·è¯´æ˜æ ‡é¢˜çš„åç§°ã€‚
  \begin{small} %\footnotesize % è®¾ç½®å­—ä½“å¤§å°
    \printnomenclature[1.5 cm]%è®¾ç½®æœ¯è¯­ä¸æè¿°ä¹‹é—´çš„è·ç¦» 
  \end{small}
  \addcontentsline{toc}{chapter}{\heiti ç¬¦å·è¯´æ˜} % è®¾ç½®åœ¨ç›®å½•æ˜¾ç¤ºç¬¦å·è¯´æ˜
  \ifOptionPrintVersion
    {}
  \else
    \checkoddpage
    \ifoddpage
      \blankpage@number
    \else
      \newpage
    \fi
  \fi
}

% ====================ç¬¦å·è¡¨æ ¼å¼è®¾ç½®====================
% è®¾ç½®ç¬¦å·è¯´æ˜ä¸ºåŒæ æ˜¾ç¤º
\renewcommand*\nompreamble{\begin{multicols}{2}}
\renewcommand*\nompostamble{\end{multicols}}
  
% æ›´æ”¹æœ¯è¯­ä¹‹é—´çš„å‚ç›´è¡Œé—´è·
\newlength{\nomitemorigsep}
\setlength{\nomitemorigsep}{\nomitemsep}
\setlength{\nomitemsep}{-1\parsep} % Baseline skip between items

% åˆ›å»ºç¬¦å·è¯´æ˜åˆ†ç»„
\renewcommand{\nomgroup}[1]{%
  \ifthenelse
    {\equal{#1}{A}}
    {\vspace{9pt} \item[\textbf{å¸Œè…Šå­—ç¬¦}]}
    {\ifthenelse
        {\equal{#1}{B}}
        {\vspace{9pt} \item[\textbf{ä¸‹æ ‡}]}
        {\ifthenelse{\equal{#1}{C}}{\vspace{9pt} \item[\textbf{ç¼©ç•¥è¯­}]}{}}
    }
  \itemsep\nomitemsep% åº”ç”¨ä¸Šé¢è®¾ç½®çš„æœ¯è¯­å‚ç›´è¡Œé—´è·
}
\makenomenclature% åº”ç”¨ç¬¦å·è¡¨

% ====================ç®—æ³•æ ====================
\SetAlgorithmName{ç®—æ³•}{ç®—æ³•}{ç®—æ³•åˆ—è¡¨}
\renewcommand\thealgocf{\arabic{chapter}-\arabic{algocf}}
\SetAlgoCaptionSeparator{\null}
\AtBeginEnvironment{algorithm}{\vspace{9pt}}
\AfterEndEnvironment{algorithm}{\vspace{9pt}}






% ====================è‡´è°¢è®¾ç½®====================
\newcommand{\thesisacknowledgement}{
  \addtocontents{toc}{\protect\setcounter{tocdepth}{0}} %åªæ˜¾ç¤ºä¸€çº§æ ‡é¢˜
  \setcounter{section}{0} %sectionè®¡æ•°å™¨æ¸…é›¶ 

  \chapter*{è‡´\quad è°¢}
  \addcontentsline{toc}{chapter}{è‡´\quad è°¢}
  % \markboth{è‡´è°¢}{è‡´è°¢} %\markboth{<å·¦é¢é¡µçœ‰>}{<å³é¢é¡µçœ‰>}
  \fancyhf{}
  \fancyhead[C]{\fontsize{10.5pt}{12.6pt}\selectfont è‡´\quad è°¢}
  \fancyfoot[CE,CO]{\fontsize{9pt}{10.8pt}\selectfont\thepage}
  \thispagestyle{fancy}
  \input{Chapter/Thanks.tex} %% è‡´è°¢æ–‡æ¡£ä½ç½®
}

\newcommand{\thesiscontent}{
  \newpage
  \clearpage{\thispagestyle{empty}\cleardoublepage}
  \addtocontents{toc}{\protect\setcounter{tocdepth}{2}}
  \standardheader
  \pagenumbering{arabic}
}

\pretocmd{\@chapter}{
  \ifdefined\@BODY
  \else
  \ifnum\value{chapter}=0
      \thesiscontent
    \fi
  \fi
}{}{}

% ====================é™„å½•è®¾ç½®====================
\newcommand{\thesisappendix}{ %é™„å½•æ ¼å¼è®¾ç½®
  \newpage
  \appendix
  \interlinepenalty=0
  \addtocontents{toc}{\protect\setcounter{tocdepth}{2}}
  \titleformat{\chapter}[block]
    {\centering\fontsize{15pt}{15pt}\selectfont\heiti\thispagestyle{fancy}}{\thechapter}{7.5pt}{}

  \renewcommand{\thechapter}{é™„å½•\Alph{chapter}}
  \renewcommand{\appendixname}{é™„å½•}
  

  \renewcommand{\thesection}{\Alph{chapter}.\arabic{section}}
  \renewcommand{\theequation}{\alph{chapter}-\arabic{equation}}
  \renewcommand{\thetable}{\alph{chapter}-\arabic{table}}
  \renewcommand{\thefigure}{\alph{chapter}-\arabic{figure}}
  \renewcommand{\thetheorem}{\alph{chapter}.\arabic{theorem}}
  \renewcommand{\theaxiom}{\alph{chapter}.\arabic{axiom}}
  \renewcommand{\thecorollary}{\alph{chapter}.\arabic{corollary}}
  \renewcommand{\thelemma}{\alph{chapter}.\arabic{lemma}}
  \renewcommand{\thedefinition}{\alph{chapter}.\arabic{definition}}
  \renewcommand{\theexample}{\alph{chapter}.\arabic{example}}
}

\newcommand{\thesissingleappendix}{
  \newpage
  \appendix
  \interlinepenalty=0
  \addtocontents{toc}{\protect\setcounter{tocdepth}{2}}
  \titleformat{\chapter}[block]
    {\centering\fontsize{15pt}{15pt}\selectfont\heiti\thispagestyle{fancy}}{é™„\quad å½•}{7.5pt}{}
  %\renewcommand{\thechapter}{é™„\quad å½•}

  \renewcommand{\appendixname}{é™„å½•}

  \renewcommand{\thesection}{A.\arabic{section}}
  
  \renewcommand{\theequation}{a-\arabic{equation}}
  \renewcommand{\thetable}{a-\arabic{table}}
  \renewcommand{\thefigure}{a-\arabic{figure}}
  \renewcommand{\thetheorem}{a.\arabic{theorem}}
  \renewcommand{\theaxiom}{a.\arabic{axiom}}
  \renewcommand{\thecorollary}{a.\arabic{corollary}}
  \renewcommand{\thelemma}{a.\arabic{lemma}}
  \renewcommand{\thedefinition}{a.\arabic{definition}}
  \renewcommand{\theexample}{a.\arabic{example}}
  

  \chapter*{é™„\quad å½•}
  \addcontentsline{toc}{chapter}{é™„å½•}
  \markboth{é™„å½•}{é™„å½•}

}

%ç« èŠ‚ç›®å½•ä¸­çš„æ¡ç›®æ˜¯ç”±\chapterå’Œ\sectionç­‰ç« èŠ‚å‘½ä»¤ç”Ÿæˆçš„,æ’å›¾æˆ–è¡¨æ ¼ç›®å½•ä¸­çš„æ¡ç›®æ˜¯ç”±åœ¨æµ®åŠ¨ç¯å¢ƒfigureæˆ–tableä¸­çš„å›¾è¡¨æ ‡é¢˜å‘½ä»¤\captionç”Ÿæˆçš„; è€Œå¸¦æ˜Ÿå·çš„ç« èŠ‚å‘½ä»¤å’Œå›¾è¡¨æ ‡é¢˜å‘½ä»¤ä»¥åŠæ‘˜è¦! å‚è€ƒæ–‡çŒ®ç­‰ç¯å¢ƒåˆ›å»ºçš„æ— åºå·æ ‡é¢˜, åˆ™ä¸èƒ½è¿›å…¥ç›®å½•ã€‚å¦‚æœå¸Œæœ›æŸä¸ªæ— åºå·æ ‡é¢˜ä¹Ÿèƒ½è¢«æ’å…¥ç›®å½•, å¯åœ¨è¯¥æ ‡é¢˜æˆ–ç¯å¢ƒå‘½ä»¤ä¹‹åä½¿ç”¨é™„åŠ æ¡ç›®å‘½ä»¤:
%\addcontentsline{æ‰©å±•å} {æ¡ç›®ç±»å‹} {æ¡ç›®æ–‡æœ¬}
%æ‰©å±•å æ ‡é¢˜è®°å½•æ–‡ä»¶çš„æ‰©å±•å, å¦‚æœæ‰€é™„åŠ æ¡ç›®çš„æ˜¯ç« èŠ‚ç›®å½•,æ‰©å±•åä¸ºtoc;å¦‚æœæ˜¯æ’å›¾ç›®å½•, åˆ™ä¸ºlof; å¦‚æœæ˜¯è¡¨æ ¼ç›®å½•åˆ™ä¸ºlotã€‚
%æ¡ç›®ç±»å‹ æ‰€é™„åŠ æ¡ç›®çš„æ ¼å¼ç±»å‹,å¦‚æœæ‰©å±•åä¸ºtoc, é‚£æ¡ç›®ç±»å‹å¯ä»¥æ˜¯chapterã€sectionç­‰ä¸å¸¦åæ–œæ çš„ç« èŠ‚å‘½ä»¤å; å¦‚æœä¸ºlof, åˆ™æ˜¯figure; å¦‚æœä¸ºlot, åˆ™æ˜¯tableã€‚
%æ¡ç›®æ–‡æœ¬å¯ä»¥æ˜¯å¸¦æ˜Ÿå·å‘½ä»¤æˆ–æ‘˜è¦ç­‰ç¯å¢ƒç”Ÿæˆçš„æ— åºå·æ ‡é¢˜, ä¹Ÿå¯ä»¥æ˜¯å…¶ä»–éœ€è¦å‘ç›®å½•æ·»åŠ çš„æ–‡å­—ç¬¦å·



% ====================å‚è€ƒæ–‡çŒ®è®¾ç½®====================
\newcommand{\thesisbibliography}{\thesisloadbibliography}
\renewcommand{\bibname}{å‚è€ƒæ–‡çŒ®} 
\renewcommand{\@biblabel}[1]{[#1]\hfill}

\newenvironment{thesisthebibliography}{
  \begin{thebibliography}{lo}
    \interlinepenalty=10000
    \begin{spacing}{1.667}
      \thispagestyle{fancy}
      \small
  }{
      \end{spacing}
    \end{thebibliography}
  }

  \pretocmd{\bibliography}{
    \newpage
    \fancyhf{}
    \fancyhead[C]{\fontsize{10.5pt}{12.6pt}\selectfont å‚è€ƒæ–‡çŒ®}
    \fancyfoot[CE,CO]{\fontsize{9pt}{10.8pt}\selectfont\thepage}
    \interlinepenalty=10000
  \begin{spacing}{1.667}
}{}{}

\apptocmd{\bibliography}{
  \end{spacing}
}{}{}
\setlength{\bibsep}{0pt} % æ¶ˆé™¤å‚è€ƒæ–‡çŒ®æ¡ç›®é—´çš„é¢å¤–è¡Œé—´è·

\newcommand{\bstlabelmark}{lo}
\newcommand{\thesisloadbibliography}[2][]{
  \small
  \ifthenelse{ %\ifthenelse{åˆ¤æ–­æ¡ä»¶}{è‚¯å®šç»“æ„}{å¦å®šç»“æ„}
    \equal{#1}{large} %\equal{#1}{nocite} %åˆ¤æ–­#1æ˜¯å¦ç­‰äºnotice
  }{
    \setlength{\labelsep}{3pt}
    \renewcommand{\bstlabelmark}{loo}
    \bibliographystyle{thesis-guet(base-gbt7714-numerical).bst} %æ’å…¥å‚è€ƒæ–‡çŒ®çš„æ ·å¼.bstæ–‡ä»¶
    \bibliography{#2}
    \setlength{\labelsep}{6pt}
  }{
    \bibliographystyle{thesis-guet(base-gbt7714-numerical).bst} %æ’å…¥å‚è€ƒæ–‡çŒ®çš„æ ·å¼.bstæ–‡ä»¶
    \bibliography{#2} %å‚è€ƒæ–‡çŒ®æ ¼å¼ï¼Œç”¨äºæŒ‡å®šæ’ç‰ˆå‚è€ƒæ–‡çŒ®æ‰€ä½¿ç”¨çš„æ–‡çŒ®æ ¼å¼æ–‡ä»¶å.bib
  }
}

\AtBeginDocument{               % è¯¥ä»£ç ç”¨ä»¥è§£å†³ï¼š multibib çš„ resetlabels åŠŸèƒ½çš„ bug
  \def\thebibliography#1{%
    \@isnumber{#1}{%
      \ifnum\mb@biblabelwidth=0
        % \@tempcnta\c@NAT@ctr %% changed here to c@NAT@ctr
        \@tempcnta=#1\relax
        \ifcontinuouslabels
          \advance\@tempcnta\c@NAT@ctr
          % \advance\@tempcnta#1%
        \fi
        \std@thebibliography{\@arabic\@tempcnta}%
      \else
        \std@thebibliography{\@arabic\mb@biblabelwidth}%
        \global\mb@biblabelwidth 0
      \fi
    }{%
      \std@thebibliography{#1}%
    }%
  }%
}


% \newcites{accomplish}{æ”»è¯»\degreename{}å­¦ä½æœŸé—´å–å¾—çš„æˆæœ} 

% \newenvironment{thesistheaccomplish}{ %è®¾ç½®thesisaccomplishç¯å¢ƒæ ¼å¼
%   \addtocontents{toc}{\protect\setcounter{tocdepth}{0}}
%   \renewcommand\thesection{\arabic{section}}
%   \setcounter{section}{0} %sectionè®¡æ•°å™¨æ¸…é›¶
%   \nociteaccomplish{*}
%   \renewcommand{\bibname}{æ”»è¯»\degreename{}å­¦ä½æœŸé—´å–å¾—çš„æˆæœ}
%   \begin{thebibliography}{lo}
%     \interlinepenalty=10000
%     \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}
%     \begin{spacing}{1.667}
%       \thispagestyle{fancy}
%       \small
%     }{
%     \end{spacing}
%   \end{thebibliography}
%   \renewcommand{\bibname}{å‚è€ƒæ–‡çŒ®}
% }


% \newcommand{\thesisloadaccomplish}[1]{
%   \nociteaccomplish{*}
%   \renewcommand{\bibname}{æ”»è¯»\degreename{}å­¦ä½æœŸé—´å–å¾—çš„æˆæœ}
%   \renewcommand{\bstlabelmark}{lo}
%   \thispagestyle{fancy} %è¯¥é¡µå«æœ‰é¡µçœ‰å’Œé¡µè„š
%   \begin{spacing}{1.667}
%   \bibliographystyleaccomplish{thesis-guet} %æ’å…¥å‚è€ƒæ–‡çŒ®çš„æ ·å¼.bstæ–‡ä»¶  \bibliographyaccomplish{#1}%å‚è€ƒæ–‡çŒ®æ ¼å¼ï¼Œç”¨äºæŒ‡å®šæ’ç‰ˆå‚è€ƒæ–‡çŒ®æ‰€ä½¿ç”¨çš„æ–‡çŒ®æ ¼å¼æ–‡ä»¶å.bib  \end{spacing}
%   \bibliographyaccomplish{#1}
%   \end{spacing}
%   \renewcommand{\bibname}{å‚è€ƒæ–‡çŒ®}
% }

% \newcommand{\thesisaccomplish}{\thesisloadaccomplish}



% ====================æ”»è¯»å­¦ä½æœŸé—´å–å¾—æˆæœ====================
% \newenvironment{accomplish}{
%   \protect\setcounter{tocdepth}{0}
%   \setcounter{section}{0} %sectionè®¡æ•°å™¨æ¸…é›¶
%   \chapter*{æ”»è¯»\degreename{}å­¦ä½æœŸé—´å–å¾—çš„æˆæœ}
%   \addcontentsline{toc}{chapter}{æ”»è¯»\degreename{}å­¦ä½æœŸé—´å–å¾—çš„æˆæœ} 
%   % \markboth{\centering æ”»è¯»\degreename{}å­¦ä½æœŸé—´å–å¾—çš„æˆæœ} %æ‰‹åŠ¨è®¾ç½®é¡µçœ‰
%   \fancyhf{} %åˆå§‹åŒ–é¡µç é¡µè„šå¸ƒå±€
%   \fancyhead[C]{\fontsize{10.5pt}{12.6pt}\selectfont æ”»è¯»\degreename{}å­¦ä½æœŸé—´å–å¾—çš„æˆæœ}
%   \fancyfoot[CE,CO]{\fontsize{9pt}{10.8pt}\selectfont\thepage}
% }{
%   \ifOptionPrintVersion
%     {}
%   \else
%     \checkoddpage
%     \ifoddpage
%       \blankpage
%     \else
%       \newpage
%     \fi
%   \fi
% }

\newcommand{\thesisaccomplish}{
  \normalsize % è®¾ç½®å­—ä½“å¤§å°ä¸ºå°å››
  \addtocontents{toc}{\protect\setcounter{tocdepth}{0}} %åªæ˜¾ç¤ºä¸€çº§æ ‡é¢˜
  \setcounter{section}{0} %sectionè®¡æ•°å™¨æ¸…é›¶ 

  \chapter*{æ”»è¯»\degreename{}å­¦ä½æœŸé—´å–å¾—çš„æˆæœ}
  \addcontentsline{toc}{chapter}{æ”»è¯»\degreename{}å­¦ä½æœŸé—´å–å¾—çš„æˆæœ}
  \fancyhf{}
  \fancyhead[C]{\fontsize{10.5pt}{12.6pt}\selectfont æ”»è¯»\degreename{}å­¦ä½æœŸé—´å–å¾—çš„æˆæœ}
  \fancyfoot[CE,CO]{\fontsize{9pt}{10.8pt}\selectfont\thepage}
  \thispagestyle{fancy}
  \input{Chapter/Accomplish.tex} %% å­¦æœ¯æˆæœæ–‡æ¡£ä½ç½®
}
{
  \ifOptionPrintVersion
    {}
  \else
    \checkoddpage
    \ifoddpage
      \blankpage
    \else
      \newpage
    \fi
  \fi
}


% ===============å®šç†è®¾ç½®===============
\newtheoremstyle{dotless}{0pt}{0pt}{\normalfont}{24pt}{\heiti}{}{ }{}
\theoremstyle{dotless}%plainï¼ˆé»˜è®¤æ ·å¼ï¼‰ï¼šå®šç†åç§°æ˜¯æ­£ä½“ï¼Œå®šç†å†…å®¹æ˜¯æ–œä½“ã€‚definitionï¼šå®šç†åç§°å’Œå®šç†å†…å®¹éƒ½æ˜¯æ­£ä½“ã€‚remarkï¼š å®šç†åç§°æ˜¯æ–œä½“ï¼Œå®šç†å†…å®¹æ˜¯æ­£ä½“
%\renewcommand\@upn{\selectfont\heiti@letter}


  \newtheorem{theorem}{å®šç†}[chapter] 
  \newtheorem{axiom}[theorem]{å…¬ç†}
  \newtheorem{corollary}[theorem]{æ¨è®º}
  \newtheorem{lemma}[theorem]{å¼•ç†}
  \newtheorem{definition}[theorem]{å®šä¹‰}
  \newtheorem{example}[theorem]{ä¾‹å­}
  \newtheorem{proposition}[theorem]{å‘½é¢˜}

%\newtheorem{ç¯å¢ƒå} [è®¡æ•°å™¨å] {æ ‡é¢˜} [æ’åºå•ä½]
%ç¯å¢ƒå ç»™æ‰€å®šä¹‰çš„å®šç†ç±»ç¯å¢ƒèµ·çš„åç§°, å®ƒä¸å¾—ä¸ç°æœ‰ç¯å¢ƒé‡å, å¦åˆ™ç³»ç»Ÿå°†æç¤ºå‡ºé”™ã€‚æ¯å®šä¹‰ä¸€ä¸ªç¯å¢ƒå, ç³»ç»Ÿå°±ä¼šè‡ªåŠ¨åˆ›å»ºä¸€ä¸ªåŒåçš„è®¡æ•°å™¨, ç”¨äºä¸ºæ‰€å®šä¹‰çš„å®šç†ç±»ç¯å¢ƒæ’åºã€‚
%è®¡æ•°å™¨å å¯é€‰å‚æ•°, å¦‚æœå¸Œæœ›æ‰€å®šä¹‰çš„å®šç†ç±»ç¯å¢ƒä¸å·²å®šä¹‰çš„æŸä¸ªå®šç†ç±»ç¯å¢ƒæ··åˆæ’åº,å°±å¯åœ¨å…¶ä¸­å¡«å†™è¯¥ç¯å¢ƒçš„è®¡æ•°å™¨å, ä¹Ÿå°±æ˜¯è¯¥å®šç†ç±»ç¯å¢ƒçš„ç¯å¢ƒå;å¦‚æœçœç•¥è¿™ä¸ªå¯é€‰å‚æ•°, åˆ™è¡¨ç¤ºæœ¬å®šç†ç±»ç¯å¢ƒå•ç‹¬æ’åºã€‚
%æ ‡é¢˜ ç”¨äºè®¾ç½®å®šç†ç±»è¡¨è¾¾å¼çš„æ ‡é¢˜, å¦‚theoremå®šç†ï¼Œ è¯æ˜å’Œå¼•ç†ç­‰ã€‚
%æ’åºå•ä½ å¯é€‰å‚æ•°, ç”¨äºè®¾å®šæ’åºå•ä½, å¦‚æœæ˜¯chapter, åˆ™æ¯ä¸€æ–°ç« å¼€å§‹æ—¶æ‰€å®šä¹‰å®šç†ç±»ç¯å¢ƒçš„è®¡æ•°å™¨æ¸…é›¶; è¯¥å¯é€‰å‚æ•°çš„é»˜è®¤å€¼æ˜¯ä»¥å…¨æ–‡ä¸ºæ’åºå•ä½

\renewcommand{\thetheorem}{\arabic{chapter}.\arabic{theorem}}
\renewcommand{\theaxiom}{\arabic{chapter}.\arabic{axiom}}
\renewcommand{\thecorollary}{\arabic{chapter}.\arabic{corollary}}
\renewcommand{\thelemma}{\arabic{chapter}.\arabic{lemma}}
\renewcommand{\thedefinition}{\arabic{chapter}.\arabic{definition}}
\renewcommand{\theexample}{\arabic{chapter}.\arabic{example}}
%\renewcommand{\qedsymbol}{$\blacksquare$} %ç»“æŸç¬¦ï¼Œ\blacksquareå®å¿ƒæ–¹æ¡†ï¼Œ\squareç©ºå¿ƒæ–¹æ¡†

\renewcommand{\proofname}{è¯æ˜}
  %å®šä¹‰è¯¥æ¨¡æ¿çš„è¯æ˜ç¯å¢ƒæ ¼å¼

%\renewenvironment{æ–°ç¯å¢ƒåç§°}[å‚æ•°ä¸ªæ•°][å‚æ•°é»˜è®¤å€¼]{å¼€å§‹éƒ¨åˆ†å®šä¹‰}{ç»“æŸéƒ¨åˆ†å®šä¹‰}
\renewenvironment{proof}[1][\proofname]{\par
  \pushQED{\qed} %è¿™é‡Œ \pushQED{\qed} æŠŠ \qed å‹å…¥äº† QED è¿™ä¸ªå †æ ˆï¼Œç„¶ååœ¨ç¯å¢ƒç»“æŸçš„åœ°æ–¹ï¼Œé€šè¿‡ \popQEDæŠŠå‹å…¥å †æ ˆçš„æœ€åä¸€ä¸ªå…ƒç´ å¼¹å‡ºæ¥ã€‚
  \normalfont %æ­£ä½“
  \topsep0pt \partopsep0pt
  \trivlist
  \item[\hskip5\labelsep
    \heiti
  #1\@addpunct{:}]\ignorespaces %\proofnameåé¢:
}%å¼€å§‹éƒ¨åˆ†å®šä¹‰
{
  \popQED\endtrivlist\@endpefalse
}%ç»“æŸéƒ¨åˆ†å®šä¹‰

%\newcommand{\citing}[1]{\textsuperscript{\cite{#1}}} %\textsuperscript{}æ–‡å­—ä¸Šæ ‡
\setlist{noitemsep}%æ¡ç›®ä¹‹é—´æ— é™„åŠ çš„å‚ç›´è·ç¦»
\setlist{nolistsep}

%\noindentè¡¨ç¤ºproofæ²¡æœ‰ç¼©è¿›ï¼Œ\itè¡¨ç¤ºproofæ–œä½“
%\quadè¡¨ç¤º\proofnameåé¢ç©ºå››ä¸ªç©ºæ ¼ï¼Œ\hfillè¡¨ç¤ºå³å¯¹é½ï¼Œ\squareè¡¨ç¤ºæ–¹æ¡†ï¼Œ\parè¡¨ç¤ºç»“å°¾ç©ºä¸€æ®µ.

\AtBeginDocument{
  \setlength{\abovedisplayskip}{8pt}
  \setlength{\belowdisplayskip}{8pt}
  \setlength{\belowdisplayshortskip}{8pt}
  \setlength{\abovedisplayshortskip}{8pt}
}





\endinput
